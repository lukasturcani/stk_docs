

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Populations &mdash; stk  documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> stk
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">stk</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="basic_examples.html">Basic Examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="cookbook.html">Cookbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="developer_guide.html">Developer Guide</a></li>
</ul>
<p class="caption"><span class="caption-text">Molecules</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="stk.molecular.molecules.building_block.html">Building Block</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html">Constructed Molecule</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.molecular.functional_groups.html">Functional Groups</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Populations</a><ul class="simple">
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Topology Graphs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="stk.molecular.topology_graphs.polymer.html">Polymer</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.molecular.topology_graphs.cage.base.html">Organic Cage</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.molecular.topology_graphs.cof.html">Covalent Organic Framework</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.molecular.topology_graphs.host_guest.html">Host Guest Complex</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.molecular.topology_graphs.macrocycle.html">Macrocycle</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.molecular.topology_graphs.rotaxane.html">Rotaxane</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.molecular.topology_graphs.topology_graph.html">Adding Topology Graphs</a></li>
</ul>
<p class="caption"><span class="caption-text">Calculators</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="calculators.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.calculators.optimization.optimizers.html">Optimizers</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.calculators.energy.energy_calculators.html">Energy Calculators</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.calculators.compound.html">Compound Calculators</a></li>
</ul>
<p class="caption"><span class="caption-text">Evolutionary Algorithm</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="ea.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.calculators.ea.fitness_calculators.html">Fitness Calculators</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.calculators.ea.fitness_normalizers.html">Fitness Normalizers</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.calculators.ea.selectors.html">Selection</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.calculators.ea.mutators.html">Mutation</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.calculators.ea.crossers.html">Crossover</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.calculators.ea.terminators.html">Termination</a></li>
<li class="toctree-l1"><a class="reference internal" href="stk.calculators.ea.plotters.html">Plotting</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">stk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Populations</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/stk.populations.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-stk.populations"></span><div class="section" id="populations">
<h1>Populations<a class="headerlink" href="#populations" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> objects are container specialized to perform
operations on groups of <code class="docutils literal notranslate"><span class="pre">stk</span></code> molecules, often in parallel.</p>
<dl class="class">
<dt id="stk.populations.EAPopulation">
<em class="property">class </em><code class="sig-name descname">EAPopulation</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">stk.populations.Population</span></code></a></p>
<p>A population which also stores fitness values of molecules.</p>
<dl class="attribute">
<dt id="stk.populations.EAPopulation.direct_members">
<code class="sig-name descname">direct_members</code><a class="headerlink" href="#stk.populations.EAPopulation.direct_members" title="Permalink to this definition">¶</a></dt>
<dd><p>Held here are direct members of the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.
In other words, these are the molecules not held by any
subpopulations. As a result, not all members of a
<a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> are stored in this attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="stk.populations.EAPopulation.subpopulations">
<code class="sig-name descname">subpopulations</code><a class="headerlink" href="#stk.populations.EAPopulation.subpopulations" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> holding the subpopulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.add_members" title="stk.populations.EAPopulation.add_members"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_members</span></code></a>(self, molecules[, duplicate_key])</p></td>
<td><p>Add <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instances to the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.add_subpopulation" title="stk.populations.EAPopulation.add_subpopulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_subpopulation</span></code></a>(self, population)</p></td>
<td><p>Add a clone of <cite>population</cite> to <a class="reference internal" href="#stk.populations.EAPopulation.subpopulations" title="stk.populations.EAPopulation.subpopulations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">subpopulations</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.clone" title="stk.populations.EAPopulation.clone"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clone</span></code></a>(self)</p></td>
<td><p>Return a clone.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.close_process_pool" title="stk.populations.EAPopulation.close_process_pool"><code class="xref py py-obj docutils literal notranslate"><span class="pre">close_process_pool</span></code></a>(self)</p></td>
<td><p>Close an open process pool.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.dump" title="stk.populations.EAPopulation.dump"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dump</span></code></a>(self, path[, include_attrs, …])</p></td>
<td><p>Dump the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> to a file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.get_fitness_values" title="stk.populations.EAPopulation.get_fitness_values"><code class="xref py py-obj docutils literal notranslate"><span class="pre">get_fitness_values</span></code></a>(self)</p></td>
<td><p>Return the fitness values of molecules.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.init_all" title="stk.populations.EAPopulation.init_all"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_all</span></code></a>(building_blocks, topology_graphs[, …])</p></td>
<td><p>Make all possible molecules from groups of building blocks.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.init_diverse" title="stk.populations.EAPopulation.init_diverse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_diverse</span></code></a>(building_blocks, …[, …])</p></td>
<td><p>Construct a chemically diverse <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.init_from_list" title="stk.populations.EAPopulation.init_from_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_from_list</span></code></a>(pop_list[, use_cache])</p></td>
<td><p>Initialize a population from a <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> representation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.init_random" title="stk.populations.EAPopulation.init_random"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_random</span></code></a>(building_blocks, …[, …])</p></td>
<td><p>Construct molecules for a random <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.load" title="stk.populations.EAPopulation.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(path[, use_cache])</p></td>
<td><p>Initialize a <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> from one dumped to a file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.open_process_pool" title="stk.populations.EAPopulation.open_process_pool"><code class="xref py py-obj docutils literal notranslate"><span class="pre">open_process_pool</span></code></a>(self[, num_processes])</p></td>
<td><p>Open a process pool.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.optimize" title="stk.populations.EAPopulation.optimize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">optimize</span></code></a>(self, optimizer[, num_processes])</p></td>
<td><p>Optimize the structures of molecules in the population.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.remove_duplicates" title="stk.populations.EAPopulation.remove_duplicates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_duplicates</span></code></a>(self[, …])</p></td>
<td><p>Remove duplicates from the population.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.remove_members" title="stk.populations.EAPopulation.remove_members"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_members</span></code></a>(self, key)</p></td>
<td><p>Remove all members where <code class="docutils literal notranslate"><span class="pre">key(member)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.set_fitness_values_from_calculators" title="stk.populations.EAPopulation.set_fitness_values_from_calculators"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_fitness_values_from_calculators</span></code></a>(self, …)</p></td>
<td><p>Set the fitness values of molecules.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.set_fitness_values_from_dict" title="stk.populations.EAPopulation.set_fitness_values_from_dict"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_fitness_values_from_dict</span></code></a>(self, …)</p></td>
<td><p>Set the fitness values of molecules.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.set_mol_ids" title="stk.populations.EAPopulation.set_mol_ids"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_mol_ids</span></code></a>(self, n[, overwrite])</p></td>
<td><p>Give each member of the population an id starting from <cite>n</cite>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.to_list" title="stk.populations.EAPopulation.to_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_list</span></code></a>(self[, include_attrs, …])</p></td>
<td><p>Convert the population to a <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> representation.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.EAPopulation.write" title="stk.populations.EAPopulation.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(self, path)</p></td>
<td><p>Write the <code class="docutils literal notranslate"><span class="pre">.mol</span></code> files of members to a directory.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stk.populations.EAPopulation.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>*args</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>, <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>) – A population is initialized with the <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> and
<a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> instances it should hold.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bb1</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;CCC&#39;</span><span class="p">)</span>
<span class="n">bb2</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCNCNC&#39;</span><span class="p">)</span>
<span class="n">bb3</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[Br]CCC[Br]&#39;</span><span class="p">)</span>
<span class="n">pop1</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="n">bb1</span><span class="p">,</span> <span class="n">bb2</span><span class="p">,</span> <span class="n">bb3</span><span class="p">)</span>

<span class="n">bb4</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NNCCCN&#39;</span><span class="p">)</span>
<span class="c1"># pop2 has pop1 as a subpopulation and bb4 as a direct</span>
<span class="c1"># member.</span>
<span class="n">pop2</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="n">pop1</span><span class="p">,</span> <span class="n">bb4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.add_members">
<code class="sig-name descname">add_members</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">molecules</em>, <em class="sig-param">duplicate_key=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.add_members" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instances to the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p>
<p>The added <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instances are added as direct
members of the population, they are not placed into any
subpopulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>molecules</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">iterable</span></code> of <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecules to be added as direct members.</p></li>
<li><p><strong>duplicate_key</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">callable</span></code>, optional) – If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">duplicate_key(mol)</span></code> is evalued on each
molecule in <cite>members</cite>. If a molecule with the same
<cite>duplicate_key</cite> is already present in the population, the
molecule is not added.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.add_subpopulation">
<code class="sig-name descname">add_subpopulation</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">population</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.add_subpopulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a clone of <cite>population</cite> to <a class="reference internal" href="#stk.populations.EAPopulation.subpopulations" title="stk.populations.EAPopulation.subpopulations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">subpopulations</span></code></a>.</p>
<p>Only a clone of the <cite>population</cite> container is made. The
molecules it holds are not copies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>population</strong> (<a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>) – The population to be added as a subpopulation.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.clone">
<code class="sig-name descname">clone</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a clone.</p>
<p>The clone will share the <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> objects, copies of
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> objects will not be made.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The clone.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">stk</span>

<span class="c1"># Make an intial population.</span>
<span class="n">pop</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCN&#39;</span><span class="p">))</span>
<span class="c1"># Make a clone.</span>
<span class="n">clone</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.close_process_pool">
<code class="sig-name descname">close_process_pool</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.close_process_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Close an open process pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The population.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.dump">
<code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">path</em>, <em class="sig-param">include_attrs=None</em>, <em class="sig-param">ignore_missing_attrs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the file to which the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>
should be dumped.</p></li>
<li><p><strong>include_attrs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, optional) – The names of attributes of the molecules to be added to
the JSON. Each attribute is saved as a string using
<code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code>.</p></li>
<li><p><strong>ignore_missing_attrs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">False</span></code> and an attribute in <cite>include_attrs</cite> is not
held by a <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>, an error will be raised.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.get_fitness_values">
<code class="sig-name descname">get_fitness_values</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.get_fitness_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the fitness values of molecules.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>Maps a <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> to its fitness value.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.init_all">
<em class="property">classmethod </em><code class="sig-name descname">init_all</code><span class="sig-paren">(</span><em class="sig-param">building_blocks</em>, <em class="sig-param">topology_graphs</em>, <em class="sig-param">num_processes=None</em>, <em class="sig-param">duplicates=False</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.init_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Make all possible molecules from groups of building blocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>building_blocks</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> holding nested building blocks, for
example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bbs1</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">bbs2</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">bbs3</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">building_blocks</span> <span class="o">=</span> <span class="p">[</span><span class="n">bbs1</span><span class="p">,</span> <span class="n">bbs2</span><span class="p">,</span> <span class="n">bbs3</span><span class="p">]</span>
</pre></div>
</div>
<p>To construct a new <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>, a
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> is picked from each of the sublists
in <cite>building_blocks</cite>. The picked <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>
instances are then supplied to
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mol is a new ConstructedMolecule. bb1 is selected</span>
<span class="c1"># from bbs1, bb2 is selected from bbs2 and bb3 is</span>
<span class="c1"># selected from bbs3.</span>
<span class="n">mol</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">bb1</span><span class="p">,</span> <span class="n">bb2</span><span class="p">,</span> <span class="n">bb3</span><span class="p">],</span>
    <span class="n">topology_graph</span><span class="o">=</span><span class="n">topology_pick</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The order a <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instance is given to
the <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> is determined by the
sublist of <cite>building_blocks</cite> it was picked from. Note that
the number of sublists in <cite>building_blocks</cite> is not fixed.
It merely has to be compatible with the
<cite>topology_graphs</cite>.</p>
</p></li>
<li><p><strong>topology_graphs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="stk.molecular.topology_graphs.topology_graph.html#stk.molecular.topology_graphs.topology_graph.TopologyGraph" title="stk.molecular.topology_graphs.topology_graph.TopologyGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">TopologyGraph</span></code></a>) – The topology graphs of <cite>.ConstructedMolecule</cite> being made.</p></li>
<li><p><strong>num_processes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The number of parallel processes to create when
constructing the molecules. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, creates a process
for each core on the computer.</p></li>
<li><p><strong>duplicates</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">False</span></code>, duplicate structures are removed from
the population.</p></li>
<li><p><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Toggles use of the molecular cache.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> holding <cite>.ConstructedMolecule</cite>
instances.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Construct all possible cage molecules from some precursors</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">stk</span>

<span class="n">amines</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCOCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="n">aldehydes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=C(C=O)COCC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="c1"># A total of 9 cages will be created.</span>
<span class="n">cages</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_all</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">amines</span><span class="p">,</span> <span class="n">aldehydes</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">cage</span><span class="o">.</span><span class="n">FourPlusSix</span><span class="p">()]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Use the constructed cages and a new bunch of building blocks to
create all possible cage complexes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">encapsulants</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[Br][Br]&#39;</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[F][F]&#39;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Every combination of cage and encapsulant.</span>
<span class="n">complexes</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_all</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">cages</span><span class="p">,</span> <span class="n">encapsulants</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">host_guest_complex</span><span class="o">.</span><span class="n">Complex</span><span class="p">()]</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.init_diverse">
<em class="property">classmethod </em><code class="sig-name descname">init_diverse</code><span class="sig-paren">(</span><em class="sig-param">building_blocks</em>, <em class="sig-param">topology_graphs</em>, <em class="sig-param">size</em>, <em class="sig-param">random_seed=None</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.init_diverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a chemically diverse <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p>
<p>All constructed molecules are held in <a class="reference internal" href="#stk.populations.EAPopulation.direct_members" title="stk.populations.EAPopulation.direct_members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">direct_members</span></code></a>.</p>
<p>In order to construct a <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>, a random
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> is selected from each sublist in
<cite>building_blocks</cite>. Once the first construction is complete,
the next <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> selected from each sublist is the
one with the most different Morgan fingerprint to the prior
one. The third construction uses randomly selected
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> objects again and so on. This is done until
<cite>size</cite> <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> instances have been
constructed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>building_blocks</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> holding nested building blocks, for
example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bbs1</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">bbs2</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">bbs3</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">building_blocks</span> <span class="o">=</span> <span class="p">[</span><span class="n">bbs1</span><span class="p">,</span> <span class="n">bbs2</span><span class="p">,</span> <span class="n">bbs3</span><span class="p">]</span>
</pre></div>
</div>
<p>To construct a new <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>, a
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> is picked from each of the sublists
in <cite>building_blocks</cite>. The picked <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>
instances are then supplied to the
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mol is a new ConstructedMolecule. bb1 is selected</span>
<span class="c1"># from bbs1, bb2 is selected from bbs2 and bb3 is</span>
<span class="c1"># selected from bbs3.</span>
<span class="n">mol</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">bb1</span><span class="p">,</span> <span class="n">bb2</span><span class="p">,</span> <span class="n">bb3</span><span class="p">],</span>
    <span class="n">topology_graph</span><span class="o">=</span><span class="n">topology_pick</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The order a <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instance is given to
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> is determined by the
sublist of <cite>building_blocks</cite> it was picked from. Note that
the number of sublists in <cite>building_blocks</cite> is not fixed.
It merely has to be compatible with the <cite>topology_graphs</cite>.</p>
</p></li>
<li><p><strong>topology_graphs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">iterable</span></code> of <a class="reference internal" href="stk.molecular.topology_graphs.topology_graph.html#stk.molecular.topology_graphs.topology_graph.TopologyGraph" title="stk.molecular.topology_graphs.topology_graph.TopologyGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">TopologyGraph</span></code></a>) – An iterable holding topology grpahs which should be
randomly selected for the construction of a
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>.</p></li>
<li><p><strong>size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The desired size of the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p></li>
<li><p><strong>random_seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – Seed for the random number generator to get replicable
results.</p></li>
<li><p><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Toggles use of the molecular cache.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A population filled with the constructed molecules.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Construct a diverse <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> of cage
molecules from some precursors</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">stk</span>

<span class="n">amines</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCOCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="n">aldehydes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=C(C=O)COCC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="c1"># A total of 4 cages will be created.</span>
<span class="n">cages</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_diverse</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">amines</span><span class="p">,</span> <span class="n">aldehydes</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">cage</span><span class="o">.</span><span class="n">FourPlusSix</span><span class="p">()],</span>
    <span class="n">size</span><span class="o">=</span><span class="mi">4</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Use the constructed cages and a new bunch of building blocks to
create some diverse cage complexes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">encapsulants</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[Br][Br]&#39;</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[F][F]&#39;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># 4 combinations of cage and encapsulant.</span>
<span class="n">complexes</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_diverse</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">cages</span><span class="p">,</span> <span class="n">encapsulants</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">host_guest_complex</span><span class="o">.</span><span class="n">Complex</span><span class="p">()],</span>
    <span class="n">size</span><span class="o">=</span><span class="mi">4</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.init_from_list">
<em class="property">classmethod </em><code class="sig-name descname">init_from_list</code><span class="sig-paren">(</span><em class="sig-param">pop_list</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.init_from_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a population from a <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pop_list</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>) – <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> which represents a <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.
Like the ones created by <a class="reference internal" href="#stk.populations.EAPopulation.to_list" title="stk.populations.EAPopulation.to_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_list()</span></code></a>. For example in,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pop_list</span> <span class="o">=</span> <span class="p">[{</span><span class="o">...</span><span class="p">},</span> <span class="p">[{</span><span class="o">...</span><span class="p">}],</span> <span class="p">[{</span><span class="o">...</span><span class="p">},</span> <span class="p">{</span><span class="o">...</span><span class="p">}],</span> <span class="p">{</span><span class="o">...</span><span class="p">}]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pop_list</span></code> represents the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>, sublists
represent its subpopulations and the <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>
<code class="docutils literal notranslate"><span class="pre">{...}</span></code> represents the members.</p>
</p></li>
<li><p><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Toggles use of the molecular cache.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The population represented by <cite>pop_list</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.init_random">
<em class="property">classmethod </em><code class="sig-name descname">init_random</code><span class="sig-paren">(</span><em class="sig-param">building_blocks</em>, <em class="sig-param">topology_graphs</em>, <em class="sig-param">size</em>, <em class="sig-param">random_seed=None</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.init_random" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct molecules for a random <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p>
<p>All molecules are held in <a class="reference internal" href="#stk.populations.EAPopulation.direct_members" title="stk.populations.EAPopulation.direct_members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">direct_members</span></code></a>.</p>
<p>From the supplied building blocks a random <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>
is selected from each sublist to form a
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>. This is done until <cite>size</cite>
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> objects have been constructed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>building_blocks</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> holding nested building blocks, for
example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bbs1</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">sk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">bbs2</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">bbs3</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">building_blocks</span> <span class="o">=</span> <span class="p">[</span><span class="n">bbs1</span><span class="p">,</span> <span class="n">bbs2</span><span class="p">,</span> <span class="n">bbs3</span><span class="p">]</span>
</pre></div>
</div>
<p>To construct a new <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>, a
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> is picked from each of the sublists
in <cite>building_blocks</cite>. The picked <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>
instances are then supplied to
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mol is a new ConstructedMolecule. bb1 is selected</span>
<span class="c1"># from bbs1, bb2 is selected from bbs2 and bb3 is</span>
<span class="c1"># selected from bbs3.</span>
<span class="n">mol</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">bb1</span><span class="p">,</span> <span class="n">bb2</span><span class="p">,</span> <span class="n">bb3</span><span class="p">],</span>
    <span class="n">topology_graph</span><span class="o">=</span><span class="n">topology_pick</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The order a <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instance is given to
the <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> is determined by the
sublist of <cite>building_blocks</cite> it was picked from. Note that
the number of sublists in <cite>building_blocks</cite> is not fixed.
It merely has to be compatible with the <cite>topology_graphs</cite>.</p>
</p></li>
<li><p><strong>topology_graphs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">iterable</span></code> of <a class="reference internal" href="stk.molecular.topology_graphs.topology_graph.html#stk.molecular.topology_graphs.topology_graph.TopologyGraph" title="stk.molecular.topology_graphs.topology_graph.TopologyGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">TopologyGraph</span></code></a>) – An <code class="xref py py-class docutils literal notranslate"><span class="pre">iterable</span></code> holding topology graphs which should
be randomly selected during initialization of
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>.</p></li>
<li><p><strong>size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The size of the population to be initialized.</p></li>
<li><p><strong>random_seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – Seed for the random number generator to get replicable
results.</p></li>
<li><p><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Toggles use of the molecular cache.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A population filled with random
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> instances.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Construct 5 random cage molecules from some
precursors</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">stk</span>

<span class="n">amines</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCOCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="n">aldehydes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=C(C=O)COCC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="c1"># A total of 5 cages will be created.</span>
<span class="n">cages</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_random</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">amines</span><span class="p">,</span> <span class="n">aldehydes</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">cage</span><span class="o">.</span><span class="n">FourPlusSix</span><span class="p">()],</span>
    <span class="n">size</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Use the constructed cages and a new bunch of building blocks to
create some random cage complexes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">encapsulants</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[Br][Br]&#39;</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[F][F]&#39;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Random combinations of cage and encapsulant.</span>
<span class="n">complexes</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_random</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">cages</span><span class="p">,</span> <span class="n">encapsulants</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">host_guest_complex</span><span class="o">.</span><span class="n">Complex</span><span class="p">()],</span>
    <span class="n">size</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.load">
<em class="property">classmethod </em><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> from one dumped to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the file holding the dumped population.</p></li>
<li><p><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Toggles use of the moleular cache.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The population stored in the dump file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.open_process_pool">
<code class="sig-name descname">open_process_pool</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">num_processes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.open_process_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a process pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_processes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The number of processes in the pool. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then
creates a process for each core on the computer.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The population.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If a process pool is already open.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.optimize">
<code class="sig-name descname">optimize</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">optimizer</em>, <em class="sig-param">num_processes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize the structures of molecules in the population.</p>
<p>The molecules are optimized serially or in parallel depending
if <cite>num_processes</cite> is <code class="docutils literal notranslate"><span class="pre">1</span></code> or more. The serial version may be
faster in cases where all molecules have already been
optimized and the <cite>optimizer</cite> will skip them.
In this case creating a parallel process pool creates
unnecessary overhead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>optimizer</strong> (<a class="reference internal" href="stk.calculators.optimization.optimizers.html#stk.calculators.optimization.optimizers.Optimizer" title="stk.calculators.optimization.optimizers.Optimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Optimizer</span></code></a>) – The optimizer used to carry out the optimizations.</p></li>
<li><p><strong>num_processes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The number of parallel processes to create. Optimization
will run serially if <code class="docutils literal notranslate"><span class="pre">1</span></code>. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, creates a
process for each core on the computer. This parameter will
be ignored if the population has an open process pool.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.remove_duplicates">
<code class="sig-name descname">remove_duplicates</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">across_subpopulations=True</em>, <em class="sig-param">key=&lt;built-in function id&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.remove_duplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove duplicates from the population.</p>
<p>The question of which molecule is preserved when duplicates are
removed is difficult to answer. The iteration through a
population is depth-first, so a rule such as “the molecule in
the topmost population is preserved” is not the case here.
Rather, the first molecule found is preserved.</p>
<p>However, this question is only relevant if duplicates in
different subpopulations are being removed. In this case it is
assumed that it is more important to have a single instance
than to worry about which subpopulation it is in.</p>
<p>If the duplicates are being removed from within subpopulations,
each subpopulation will end up with a single instance of all
molecules held before. There is no “choice”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>across_subpopulations</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – When <code class="docutils literal notranslate"><span class="pre">False</span></code> duplicates are only removed from within a
given subpopulation. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, all duplicates are
removed, regardless of which subpopulation they are in.</p></li>
<li><p><strong>key</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">callable</span></code>, optional) – Two molecules are considered the same if the values
returned by <code class="docutils literal notranslate"><span class="pre">key(molecule)</span></code> are the same.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.remove_members">
<code class="sig-name descname">remove_members</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.remove_members" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all members where <code class="docutils literal notranslate"><span class="pre">key(member)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">callable</span></code>) – A callable which takes 1 argument. Each member of the
population is passed as the argument to <cite>key</cite> in turn. If
the result is <code class="docutils literal notranslate"><span class="pre">True</span></code> then the member is removed from the
population.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.set_fitness_values_from_calculators">
<code class="sig-name descname">set_fitness_values_from_calculators</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">fitness_calculator</em>, <em class="sig-param">fitness_normalizer=None</em>, <em class="sig-param">num_processes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.set_fitness_values_from_calculators" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the fitness values of molecules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fitness_calculator</strong> (<a class="reference internal" href="stk.calculators.ea.fitness_calculators.html#stk.calculators.ea.fitness_calculators.FitnessCalculator" title="stk.calculators.ea.fitness_calculators.FitnessCalculator"><code class="xref py py-class docutils literal notranslate"><span class="pre">FitnessCalculator</span></code></a>) – Used to calculate the initial fitness values.</p></li>
<li><p><strong>fitness_normalizer</strong> (<a class="reference internal" href="stk.calculators.ea.fitness_normalizers.html#stk.calculators.ea.fitness_normalizers.FitnessNormalizer" title="stk.calculators.ea.fitness_normalizers.FitnessNormalizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">FitnessNormalizer</span></code></a>, optional) – Used to normalize the fitness values.</p></li>
<li><p><strong>num_processes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The number of parallel processes to create. Calculations
will run serially if <code class="docutils literal notranslate"><span class="pre">1</span></code>. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, creates a
process for each core on the computer. This parameter will
be ignored if the population has an open process pool.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The population is returned.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.EAPopulation" title="stk.populations.EAPopulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">EAPopulation</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.set_fitness_values_from_dict">
<code class="sig-name descname">set_fitness_values_from_dict</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">fitness_values</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.set_fitness_values_from_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the fitness values of molecules.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>fitness_values</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>) – Maps molecules in the population to their fitness
values.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The population is returned.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.EAPopulation" title="stk.populations.EAPopulation"><code class="xref py py-class docutils literal notranslate"><span class="pre">EAPopulation</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.set_mol_ids">
<code class="sig-name descname">set_mol_ids</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">n</em>, <em class="sig-param">overwrite=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.set_mol_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Give each member of the population an id starting from <cite>n</cite>.</p>
<p>This method adds an <code class="xref py py-attr docutils literal notranslate"><span class="pre">id</span></code> attribute to each
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instance held by the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – A number. Members of this <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> are given a
unique number as an id, starting from <cite>n</cite> and
incremented by one between members.</p></li>
<li><p><strong>overwrite</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, existing ids are replaced.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The value of the last id assigned, plus 1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.to_list">
<code class="sig-name descname">to_list</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">include_attrs=None</em>, <em class="sig-param">ignore_missing_attrs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the population to a <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_attrs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, optional) – The names of attributes to be added to the molecular
representations. Each attribute is saved as a string using
<code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code>.</p></li>
<li><p><strong>ignore_missing_attrs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">False</span></code> and an attribute in <cite>include_attrs</cite> is not
held by a <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>, an error will be raised.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> representation of the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.EAPopulation.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.EAPopulation.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the <code class="docutils literal notranslate"><span class="pre">.mol</span></code> files of members to a directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the directory into which the <code class="docutils literal notranslate"><span class="pre">.mol</span></code> file
is written.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="stk.populations.Population">
<em class="property">class </em><code class="sig-name descname">Population</code><span class="sig-paren">(</span><em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A container for  <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> objects.</p>
<p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> instances can be nested.</p>
<p>In addition to holding <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> objects, the
<a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> class can be used to create large numbers of
these instances through the class methods beginning with “init”.</p>
<p><a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instances held by a <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> can have
their structures optimized in parallel through the
<a class="reference internal" href="#stk.populations.Population.optimize" title="stk.populations.Population.optimize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">optimize()</span></code></a> method.</p>
<p>It supports all expected and necessary container operations such as
iteration, indexing and membership checks (via the <code class="docutils literal notranslate"><span class="pre">is</span> <span class="pre">in</span></code>
operator).</p>
<dl class="attribute">
<dt id="stk.populations.Population.direct_members">
<code class="sig-name descname">direct_members</code><a class="headerlink" href="#stk.populations.Population.direct_members" title="Permalink to this definition">¶</a></dt>
<dd><p>Held here are direct members of the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.
In other words, these are the molecules not held by any
subpopulations. As a result, not all members of a
<a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> are stored in this attribute.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="attribute">
<dt id="stk.populations.Population.subpopulations">
<code class="sig-name descname">subpopulations</code><a class="headerlink" href="#stk.populations.Population.subpopulations" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> holding the subpopulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
</dd></dl>

<p class="rubric">Examples</p>
<p>A <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> can be iterated through just like a
<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">stk</span>

<span class="c1"># Create a population.</span>
<span class="n">pop</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>

    <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span>
        <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
        <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
    <span class="p">)</span>

    <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="p">)</span>

<span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">pop</span><span class="p">:</span>
    <span class="n">do_stuff</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
</pre></div>
</div>
<p>When iterating through a <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> you will also iterate
through nested members, that is members which are held by
subpopulations. If you only wish to iterate through direct
members, you can</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">member</span> <span class="ow">in</span> <span class="n">pop</span><span class="o">.</span><span class="n">direct_members</span><span class="p">:</span>
    <span class="n">do_stuff</span><span class="p">(</span><span class="n">member</span><span class="p">)</span>
</pre></div>
</div>
<p>You can also get access to members by using indices.
Indices have access to all members in the population</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">first_member</span> <span class="o">=</span> <span class="n">pop</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">second_member</span> <span class="o">=</span> <span class="n">pop</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
<p>Indices will first access direct members of the population and then
access members in the subpopulations. Indices access nested members
depth-first</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pop2</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="n">bb1</span><span class="p">,</span> <span class="n">bb2</span><span class="p">,</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="n">bb3</span><span class="p">,</span> <span class="n">bb4</span><span class="p">))</span>
<span class="c1"># Get bb1.</span>
<span class="n">pop2</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1"># Get bb2.</span>
<span class="n">pop2</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="c1"># Get bb3.</span>
<span class="n">pop2</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span>
<span class="c1"># Get bb4.</span>
<span class="n">pop2</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
</pre></div>
</div>
<p>You can get a subpopulation by taking a slice</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># new_pop is a new Population instance and has no nesting.</span>
<span class="n">new_pop</span> <span class="o">=</span> <span class="n">pop</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">4</span><span class="p">]</span>
</pre></div>
</div>
<p>You can take the length of a population to get the total number
of members</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">pop</span><span class="p">)</span>
</pre></div>
</div>
<p>Adding populations creates a new population with both of the added
populations as subpopulations</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># added has no direct members and two subpopulations, pop and</span>
<span class="c1"># pop2.</span>
<span class="n">added</span> <span class="o">=</span> <span class="n">pop</span> <span class="o">+</span> <span class="n">pop2</span>
</pre></div>
</div>
<p>Subtracting populations creates a new, flat population.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># subbed has all objects in pop except those also found in</span>
<span class="c1"># pop2.</span>
<span class="n">subbed</span> <span class="o">=</span> <span class="n">pop</span> <span class="o">-</span> <span class="n">pop2</span>
</pre></div>
</div>
<p>You can check if an object is already present in the population.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bb1</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">bb2</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="n">pop3</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="n">bb1</span><span class="p">)</span>

<span class="c1"># Returns True.</span>
<span class="n">bb1</span> <span class="ow">in</span> <span class="n">pop3</span>
<span class="c1"># Returns False.</span>
<span class="n">bb2</span> <span class="ow">in</span> <span class="n">pop3</span>
<span class="c1"># Returns True.</span>
<span class="n">bb2</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">pop3</span>
</pre></div>
</div>
<p>If you want to run multiple <a class="reference internal" href="#stk.populations.Population.optimize" title="stk.populations.Population.optimize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">optimize()</span></code></a> calls in a row, use
the “with” statement. This keeps a single process pool open, and
means you do not create a new one for each <a class="reference internal" href="#stk.populations.Population.optimize" title="stk.populations.Population.optimize"><code class="xref py py-meth docutils literal notranslate"><span class="pre">optimize()</span></code></a> call.
It also automatically closes the pool for you when the block
exits</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">population</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
<span class="c1"># Keep a process pool open through the &quot;with&quot; statement.</span>
<span class="k">with</span> <span class="n">population</span><span class="o">.</span><span class="n">open_process_pool</span><span class="p">(</span><span class="mi">8</span><span class="p">):</span>
    <span class="c1"># All optimize calls within this block will use the</span>
    <span class="c1"># same process pool.</span>
    <span class="n">population</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">stk</span><span class="o">.</span><span class="n">UFF</span><span class="p">())</span>
    <span class="n">population</span><span class="o">.</span><span class="n">add_members</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>
    <span class="n">population</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">stk</span><span class="o">.</span><span class="n">UFF</span><span class="p">())</span>
<span class="c1"># Process pool is automatically cleaned up when the block</span>
<span class="c1"># exits.</span>
</pre></div>
</div>
<p class="rubric">Methods</p>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.Population.add_members" title="stk.populations.Population.add_members"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_members</span></code></a>(self, molecules[, duplicate_key])</p></td>
<td><p>Add <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instances to the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.Population.add_subpopulation" title="stk.populations.Population.add_subpopulation"><code class="xref py py-obj docutils literal notranslate"><span class="pre">add_subpopulation</span></code></a>(self, population)</p></td>
<td><p>Add a clone of <cite>population</cite> to <a class="reference internal" href="#stk.populations.Population.subpopulations" title="stk.populations.Population.subpopulations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">subpopulations</span></code></a>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.Population.clone" title="stk.populations.Population.clone"><code class="xref py py-obj docutils literal notranslate"><span class="pre">clone</span></code></a>(self)</p></td>
<td><p>Return a clone.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.Population.close_process_pool" title="stk.populations.Population.close_process_pool"><code class="xref py py-obj docutils literal notranslate"><span class="pre">close_process_pool</span></code></a>(self)</p></td>
<td><p>Close an open process pool.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.Population.dump" title="stk.populations.Population.dump"><code class="xref py py-obj docutils literal notranslate"><span class="pre">dump</span></code></a>(self, path[, include_attrs, …])</p></td>
<td><p>Dump the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> to a file.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.Population.init_all" title="stk.populations.Population.init_all"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_all</span></code></a>(building_blocks, topology_graphs[, …])</p></td>
<td><p>Make all possible molecules from groups of building blocks.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.Population.init_diverse" title="stk.populations.Population.init_diverse"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_diverse</span></code></a>(building_blocks, …[, …])</p></td>
<td><p>Construct a chemically diverse <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.Population.init_from_list" title="stk.populations.Population.init_from_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_from_list</span></code></a>(pop_list[, use_cache])</p></td>
<td><p>Initialize a population from a <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> representation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.Population.init_random" title="stk.populations.Population.init_random"><code class="xref py py-obj docutils literal notranslate"><span class="pre">init_random</span></code></a>(building_blocks, …[, …])</p></td>
<td><p>Construct molecules for a random <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.Population.load" title="stk.populations.Population.load"><code class="xref py py-obj docutils literal notranslate"><span class="pre">load</span></code></a>(path[, use_cache])</p></td>
<td><p>Initialize a <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> from one dumped to a file.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.Population.open_process_pool" title="stk.populations.Population.open_process_pool"><code class="xref py py-obj docutils literal notranslate"><span class="pre">open_process_pool</span></code></a>(self[, num_processes])</p></td>
<td><p>Open a process pool.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.Population.optimize" title="stk.populations.Population.optimize"><code class="xref py py-obj docutils literal notranslate"><span class="pre">optimize</span></code></a>(self, optimizer[, num_processes])</p></td>
<td><p>Optimize the structures of molecules in the population.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.Population.remove_duplicates" title="stk.populations.Population.remove_duplicates"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_duplicates</span></code></a>(self[, …])</p></td>
<td><p>Remove duplicates from the population.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.Population.remove_members" title="stk.populations.Population.remove_members"><code class="xref py py-obj docutils literal notranslate"><span class="pre">remove_members</span></code></a>(self, key)</p></td>
<td><p>Remove all members where <code class="docutils literal notranslate"><span class="pre">key(member)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.Population.set_mol_ids" title="stk.populations.Population.set_mol_ids"><code class="xref py py-obj docutils literal notranslate"><span class="pre">set_mol_ids</span></code></a>(self, n[, overwrite])</p></td>
<td><p>Give each member of the population an id starting from <cite>n</cite>.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#stk.populations.Population.to_list" title="stk.populations.Population.to_list"><code class="xref py py-obj docutils literal notranslate"><span class="pre">to_list</span></code></a>(self[, include_attrs, …])</p></td>
<td><p>Convert the population to a <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> representation.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#stk.populations.Population.write" title="stk.populations.Population.write"><code class="xref py py-obj docutils literal notranslate"><span class="pre">write</span></code></a>(self, path)</p></td>
<td><p>Write the <code class="docutils literal notranslate"><span class="pre">.mol</span></code> files of members to a directory.</p></td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="stk.populations.Population.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">*args</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>*args</strong> (<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>, <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>) – A population is initialized with the <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> and
<a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> instances it should hold.</p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bb1</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;CCC&#39;</span><span class="p">)</span>
<span class="n">bb2</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCNCNC&#39;</span><span class="p">)</span>
<span class="n">bb3</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[Br]CCC[Br]&#39;</span><span class="p">)</span>
<span class="n">pop1</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="n">bb1</span><span class="p">,</span> <span class="n">bb2</span><span class="p">,</span> <span class="n">bb3</span><span class="p">)</span>

<span class="n">bb4</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NNCCCN&#39;</span><span class="p">)</span>
<span class="c1"># pop2 has pop1 as a subpopulation and bb4 as a direct</span>
<span class="c1"># member.</span>
<span class="n">pop2</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="n">pop1</span><span class="p">,</span> <span class="n">bb4</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.add_members">
<code class="sig-name descname">add_members</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">molecules</em>, <em class="sig-param">duplicate_key=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.add_members" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instances to the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p>
<p>The added <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instances are added as direct
members of the population, they are not placed into any
subpopulations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>molecules</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">iterable</span></code> of <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – The molecules to be added as direct members.</p></li>
<li><p><strong>duplicate_key</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">callable</span></code>, optional) – If not <code class="docutils literal notranslate"><span class="pre">None</span></code>, <code class="docutils literal notranslate"><span class="pre">duplicate_key(mol)</span></code> is evalued on each
molecule in <cite>members</cite>. If a molecule with the same
<cite>duplicate_key</cite> is already present in the population, the
molecule is not added.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.add_subpopulation">
<code class="sig-name descname">add_subpopulation</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">population</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.add_subpopulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a clone of <cite>population</cite> to <a class="reference internal" href="#stk.populations.Population.subpopulations" title="stk.populations.Population.subpopulations"><code class="xref py py-attr docutils literal notranslate"><span class="pre">subpopulations</span></code></a>.</p>
<p>Only a clone of the <cite>population</cite> container is made. The
molecules it holds are not copies.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>population</strong> (<a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>) – The population to be added as a subpopulation.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.clone">
<code class="sig-name descname">clone</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.clone" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a clone.</p>
<p>The clone will share the <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> objects, copies of
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> objects will not be made.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The clone.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">stk</span>

<span class="c1"># Make an intial population.</span>
<span class="n">pop</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="p">(</span><span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCN&#39;</span><span class="p">))</span>
<span class="c1"># Make a clone.</span>
<span class="n">clone</span> <span class="o">=</span> <span class="n">pop</span><span class="o">.</span><span class="n">clone</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.close_process_pool">
<code class="sig-name descname">close_process_pool</code><span class="sig-paren">(</span><em class="sig-param">self</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.close_process_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Close an open process pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>The population.</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.dump">
<code class="sig-name descname">dump</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">path</em>, <em class="sig-param">include_attrs=None</em>, <em class="sig-param">ignore_missing_attrs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.dump" title="Permalink to this definition">¶</a></dt>
<dd><p>Dump the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the file to which the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>
should be dumped.</p></li>
<li><p><strong>include_attrs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, optional) – The names of attributes of the molecules to be added to
the JSON. Each attribute is saved as a string using
<code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code>.</p></li>
<li><p><strong>ignore_missing_attrs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">False</span></code> and an attribute in <cite>include_attrs</cite> is not
held by a <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>, an error will be raised.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.init_all">
<em class="property">classmethod </em><code class="sig-name descname">init_all</code><span class="sig-paren">(</span><em class="sig-param">building_blocks</em>, <em class="sig-param">topology_graphs</em>, <em class="sig-param">num_processes=None</em>, <em class="sig-param">duplicates=False</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.init_all" title="Permalink to this definition">¶</a></dt>
<dd><p>Make all possible molecules from groups of building blocks.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>building_blocks</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> holding nested building blocks, for
example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bbs1</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">bbs2</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span><span class="p">,</span>
<span class="p">]</span>
<span class="n">bbs3</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">building_blocks</span> <span class="o">=</span> <span class="p">[</span><span class="n">bbs1</span><span class="p">,</span> <span class="n">bbs2</span><span class="p">,</span> <span class="n">bbs3</span><span class="p">]</span>
</pre></div>
</div>
<p>To construct a new <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>, a
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> is picked from each of the sublists
in <cite>building_blocks</cite>. The picked <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>
instances are then supplied to
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mol is a new ConstructedMolecule. bb1 is selected</span>
<span class="c1"># from bbs1, bb2 is selected from bbs2 and bb3 is</span>
<span class="c1"># selected from bbs3.</span>
<span class="n">mol</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">bb1</span><span class="p">,</span> <span class="n">bb2</span><span class="p">,</span> <span class="n">bb3</span><span class="p">],</span>
    <span class="n">topology_graph</span><span class="o">=</span><span class="n">topology_pick</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The order a <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instance is given to
the <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> is determined by the
sublist of <cite>building_blocks</cite> it was picked from. Note that
the number of sublists in <cite>building_blocks</cite> is not fixed.
It merely has to be compatible with the
<cite>topology_graphs</cite>.</p>
</p></li>
<li><p><strong>topology_graphs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="stk.molecular.topology_graphs.topology_graph.html#stk.molecular.topology_graphs.topology_graph.TopologyGraph" title="stk.molecular.topology_graphs.topology_graph.TopologyGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">TopologyGraph</span></code></a>) – The topology graphs of <cite>.ConstructedMolecule</cite> being made.</p></li>
<li><p><strong>num_processes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The number of parallel processes to create when
constructing the molecules. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, creates a process
for each core on the computer.</p></li>
<li><p><strong>duplicates</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">False</span></code>, duplicate structures are removed from
the population.</p></li>
<li><p><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Toggles use of the molecular cache.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> holding <cite>.ConstructedMolecule</cite>
instances.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Construct all possible cage molecules from some precursors</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">stk</span>

<span class="n">amines</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCOCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="n">aldehydes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=C(C=O)COCC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="c1"># A total of 9 cages will be created.</span>
<span class="n">cages</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_all</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">amines</span><span class="p">,</span> <span class="n">aldehydes</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">cage</span><span class="o">.</span><span class="n">FourPlusSix</span><span class="p">()]</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Use the constructed cages and a new bunch of building blocks to
create all possible cage complexes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">encapsulants</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[Br][Br]&#39;</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[F][F]&#39;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Every combination of cage and encapsulant.</span>
<span class="n">complexes</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_all</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">cages</span><span class="p">,</span> <span class="n">encapsulants</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">host_guest_complex</span><span class="o">.</span><span class="n">Complex</span><span class="p">()]</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.init_diverse">
<em class="property">classmethod </em><code class="sig-name descname">init_diverse</code><span class="sig-paren">(</span><em class="sig-param">building_blocks</em>, <em class="sig-param">topology_graphs</em>, <em class="sig-param">size</em>, <em class="sig-param">random_seed=None</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.init_diverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a chemically diverse <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p>
<p>All constructed molecules are held in <a class="reference internal" href="#stk.populations.Population.direct_members" title="stk.populations.Population.direct_members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">direct_members</span></code></a>.</p>
<p>In order to construct a <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>, a random
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> is selected from each sublist in
<cite>building_blocks</cite>. Once the first construction is complete,
the next <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> selected from each sublist is the
one with the most different Morgan fingerprint to the prior
one. The third construction uses randomly selected
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> objects again and so on. This is done until
<cite>size</cite> <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> instances have been
constructed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>building_blocks</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> holding nested building blocks, for
example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bbs1</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">bbs2</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">bbs3</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">building_blocks</span> <span class="o">=</span> <span class="p">[</span><span class="n">bbs1</span><span class="p">,</span> <span class="n">bbs2</span><span class="p">,</span> <span class="n">bbs3</span><span class="p">]</span>
</pre></div>
</div>
<p>To construct a new <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>, a
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> is picked from each of the sublists
in <cite>building_blocks</cite>. The picked <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>
instances are then supplied to the
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mol is a new ConstructedMolecule. bb1 is selected</span>
<span class="c1"># from bbs1, bb2 is selected from bbs2 and bb3 is</span>
<span class="c1"># selected from bbs3.</span>
<span class="n">mol</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">bb1</span><span class="p">,</span> <span class="n">bb2</span><span class="p">,</span> <span class="n">bb3</span><span class="p">],</span>
    <span class="n">topology_graph</span><span class="o">=</span><span class="n">topology_pick</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The order a <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instance is given to
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> is determined by the
sublist of <cite>building_blocks</cite> it was picked from. Note that
the number of sublists in <cite>building_blocks</cite> is not fixed.
It merely has to be compatible with the <cite>topology_graphs</cite>.</p>
</p></li>
<li><p><strong>topology_graphs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">iterable</span></code> of <a class="reference internal" href="stk.molecular.topology_graphs.topology_graph.html#stk.molecular.topology_graphs.topology_graph.TopologyGraph" title="stk.molecular.topology_graphs.topology_graph.TopologyGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">TopologyGraph</span></code></a>) – An iterable holding topology grpahs which should be
randomly selected for the construction of a
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>.</p></li>
<li><p><strong>size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The desired size of the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p></li>
<li><p><strong>random_seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – Seed for the random number generator to get replicable
results.</p></li>
<li><p><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Toggles use of the molecular cache.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A population filled with the constructed molecules.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Construct a diverse <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> of cage
molecules from some precursors</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">stk</span>

<span class="n">amines</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCOCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="n">aldehydes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=C(C=O)COCC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="c1"># A total of 4 cages will be created.</span>
<span class="n">cages</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_diverse</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">amines</span><span class="p">,</span> <span class="n">aldehydes</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">cage</span><span class="o">.</span><span class="n">FourPlusSix</span><span class="p">()],</span>
    <span class="n">size</span><span class="o">=</span><span class="mi">4</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Use the constructed cages and a new bunch of building blocks to
create some diverse cage complexes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">encapsulants</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[Br][Br]&#39;</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[F][F]&#39;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># 4 combinations of cage and encapsulant.</span>
<span class="n">complexes</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_diverse</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">cages</span><span class="p">,</span> <span class="n">encapsulants</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">host_guest_complex</span><span class="o">.</span><span class="n">Complex</span><span class="p">()],</span>
    <span class="n">size</span><span class="o">=</span><span class="mi">4</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.init_from_list">
<em class="property">classmethod </em><code class="sig-name descname">init_from_list</code><span class="sig-paren">(</span><em class="sig-param">pop_list</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.init_from_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a population from a <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pop_list</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>) – <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> which represents a <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.
Like the ones created by <a class="reference internal" href="#stk.populations.Population.to_list" title="stk.populations.Population.to_list"><code class="xref py py-meth docutils literal notranslate"><span class="pre">to_list()</span></code></a>. For example in,</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">pop_list</span> <span class="o">=</span> <span class="p">[{</span><span class="o">...</span><span class="p">},</span> <span class="p">[{</span><span class="o">...</span><span class="p">}],</span> <span class="p">[{</span><span class="o">...</span><span class="p">},</span> <span class="p">{</span><span class="o">...</span><span class="p">}],</span> <span class="p">{</span><span class="o">...</span><span class="p">}]</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">pop_list</span></code> represents the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>, sublists
represent its subpopulations and the <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>
<code class="docutils literal notranslate"><span class="pre">{...}</span></code> represents the members.</p>
</p></li>
<li><p><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Toggles use of the molecular cache.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The population represented by <cite>pop_list</cite>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.init_random">
<em class="property">classmethod </em><code class="sig-name descname">init_random</code><span class="sig-paren">(</span><em class="sig-param">building_blocks</em>, <em class="sig-param">topology_graphs</em>, <em class="sig-param">size</em>, <em class="sig-param">random_seed=None</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.init_random" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct molecules for a random <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p>
<p>All molecules are held in <a class="reference internal" href="#stk.populations.Population.direct_members" title="stk.populations.Population.direct_members"><code class="xref py py-attr docutils literal notranslate"><span class="pre">direct_members</span></code></a>.</p>
<p>From the supplied building blocks a random <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>
is selected from each sublist to form a
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>. This is done until <cite>size</cite>
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> objects have been constructed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>building_blocks</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>) – <p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> holding nested building blocks, for
example</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">bbs1</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">sk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">bbs2</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">bbs3</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="o">...</span><span class="p">),</span>
    <span class="o">...</span>
<span class="p">]</span>
<span class="n">building_blocks</span> <span class="o">=</span> <span class="p">[</span><span class="n">bbs1</span><span class="p">,</span> <span class="n">bbs2</span><span class="p">,</span> <span class="n">bbs3</span><span class="p">]</span>
</pre></div>
</div>
<p>To construct a new <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>, a
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> is picked from each of the sublists
in <cite>building_blocks</cite>. The picked <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>
instances are then supplied to
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># mol is a new ConstructedMolecule. bb1 is selected</span>
<span class="c1"># from bbs1, bb2 is selected from bbs2 and bb3 is</span>
<span class="c1"># selected from bbs3.</span>
<span class="n">mol</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">ConstructedMolecule</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">bb1</span><span class="p">,</span> <span class="n">bb2</span><span class="p">,</span> <span class="n">bb3</span><span class="p">],</span>
    <span class="n">topology_graph</span><span class="o">=</span><span class="n">topology_pick</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The order a <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instance is given to
the <a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> is determined by the
sublist of <cite>building_blocks</cite> it was picked from. Note that
the number of sublists in <cite>building_blocks</cite> is not fixed.
It merely has to be compatible with the <cite>topology_graphs</cite>.</p>
</p></li>
<li><p><strong>topology_graphs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">iterable</span></code> of <a class="reference internal" href="stk.molecular.topology_graphs.topology_graph.html#stk.molecular.topology_graphs.topology_graph.TopologyGraph" title="stk.molecular.topology_graphs.topology_graph.TopologyGraph"><code class="xref py py-class docutils literal notranslate"><span class="pre">TopologyGraph</span></code></a>) – An <code class="xref py py-class docutils literal notranslate"><span class="pre">iterable</span></code> holding topology graphs which should
be randomly selected during initialization of
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a>.</p></li>
<li><p><strong>size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – The size of the population to be initialized.</p></li>
<li><p><strong>random_seed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – Seed for the random number generator to get replicable
results.</p></li>
<li><p><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Toggles use of the molecular cache.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A population filled with random
<a class="reference internal" href="stk.molecular.molecules.constructed_molecule.html#stk.molecular.molecules.constructed_molecule.ConstructedMolecule" title="stk.molecular.molecules.constructed_molecule.ConstructedMolecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConstructedMolecule</span></code></a> instances.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
<p class="rubric">Examples</p>
<p>Construct 5 random cage molecules from some
precursors</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">stk</span>

<span class="n">amines</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCCCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;NCCOCCN&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;amine&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="n">aldehydes</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=CCC(C=O)CC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;O=C(C=O)COCC=O&#39;</span><span class="p">,</span> <span class="p">[</span><span class="s1">&#39;aldehyde&#39;</span><span class="p">]),</span>
<span class="p">]</span>
<span class="c1"># A total of 5 cages will be created.</span>
<span class="n">cages</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_random</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">amines</span><span class="p">,</span> <span class="n">aldehydes</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">cage</span><span class="o">.</span><span class="n">FourPlusSix</span><span class="p">()],</span>
    <span class="n">size</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Use the constructed cages and a new bunch of building blocks to
create some random cage complexes.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">encapsulants</span> <span class="o">=</span> <span class="p">[</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[Br][Br]&#39;</span><span class="p">),</span>
    <span class="n">stk</span><span class="o">.</span><span class="n">BuildingBlock</span><span class="p">(</span><span class="s1">&#39;[F][F]&#39;</span><span class="p">),</span>
<span class="p">]</span>

<span class="c1"># Random combinations of cage and encapsulant.</span>
<span class="n">complexes</span> <span class="o">=</span> <span class="n">stk</span><span class="o">.</span><span class="n">Population</span><span class="o">.</span><span class="n">init_random</span><span class="p">(</span>
    <span class="n">building_blocks</span><span class="o">=</span><span class="p">[</span><span class="n">cages</span><span class="p">,</span> <span class="n">encapsulants</span><span class="p">],</span>
    <span class="n">topology_graphs</span><span class="o">=</span><span class="p">[</span><span class="n">stk</span><span class="o">.</span><span class="n">host_guest_complex</span><span class="o">.</span><span class="n">Complex</span><span class="p">()],</span>
    <span class="n">size</span><span class="o">=</span><span class="mi">5</span>
<span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.load">
<em class="property">classmethod </em><code class="sig-name descname">load</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">use_cache=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> from one dumped to a file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the file holding the dumped population.</p></li>
<li><p><strong>use_cache</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – Toggles use of the moleular cache.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The population stored in the dump file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.open_process_pool">
<code class="sig-name descname">open_process_pool</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">num_processes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.open_process_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Open a process pool.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>num_processes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The number of processes in the pool. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, then
creates a process for each core on the computer.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The population.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a></p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>RuntimeError</strong> – If a process pool is already open.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.optimize">
<code class="sig-name descname">optimize</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">optimizer</em>, <em class="sig-param">num_processes=None</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Optimize the structures of molecules in the population.</p>
<p>The molecules are optimized serially or in parallel depending
if <cite>num_processes</cite> is <code class="docutils literal notranslate"><span class="pre">1</span></code> or more. The serial version may be
faster in cases where all molecules have already been
optimized and the <cite>optimizer</cite> will skip them.
In this case creating a parallel process pool creates
unnecessary overhead.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>optimizer</strong> (<a class="reference internal" href="stk.calculators.optimization.optimizers.html#stk.calculators.optimization.optimizers.Optimizer" title="stk.calculators.optimization.optimizers.Optimizer"><code class="xref py py-class docutils literal notranslate"><span class="pre">Optimizer</span></code></a>) – The optimizer used to carry out the optimizations.</p></li>
<li><p><strong>num_processes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, optional) – The number of parallel processes to create. Optimization
will run serially if <code class="docutils literal notranslate"><span class="pre">1</span></code>. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, creates a
process for each core on the computer. This parameter will
be ignored if the population has an open process pool.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.remove_duplicates">
<code class="sig-name descname">remove_duplicates</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">across_subpopulations=True</em>, <em class="sig-param">key=&lt;built-in function id&gt;</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.remove_duplicates" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove duplicates from the population.</p>
<p>The question of which molecule is preserved when duplicates are
removed is difficult to answer. The iteration through a
population is depth-first, so a rule such as “the molecule in
the topmost population is preserved” is not the case here.
Rather, the first molecule found is preserved.</p>
<p>However, this question is only relevant if duplicates in
different subpopulations are being removed. In this case it is
assumed that it is more important to have a single instance
than to worry about which subpopulation it is in.</p>
<p>If the duplicates are being removed from within subpopulations,
each subpopulation will end up with a single instance of all
molecules held before. There is no “choice”.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>across_subpopulations</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – When <code class="docutils literal notranslate"><span class="pre">False</span></code> duplicates are only removed from within a
given subpopulation. If <code class="docutils literal notranslate"><span class="pre">True</span></code>, all duplicates are
removed, regardless of which subpopulation they are in.</p></li>
<li><p><strong>key</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">callable</span></code>, optional) – Two molecules are considered the same if the values
returned by <code class="docutils literal notranslate"><span class="pre">key(molecule)</span></code> are the same.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.remove_members">
<code class="sig-name descname">remove_members</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">key</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.remove_members" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all members where <code class="docutils literal notranslate"><span class="pre">key(member)</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>key</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">callable</span></code>) – A callable which takes 1 argument. Each member of the
population is passed as the argument to <cite>key</cite> in turn. If
the result is <code class="docutils literal notranslate"><span class="pre">True</span></code> then the member is removed from the
population.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.set_mol_ids">
<code class="sig-name descname">set_mol_ids</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">n</em>, <em class="sig-param">overwrite=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.set_mol_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Give each member of the population an id starting from <cite>n</cite>.</p>
<p>This method adds an <code class="xref py py-attr docutils literal notranslate"><span class="pre">id</span></code> attribute to each
<a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a> instance held by the population.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>n</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – A number. Members of this <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a> are given a
unique number as an id, starting from <cite>n</cite> and
incremented by one between members.</p></li>
<li><p><strong>overwrite</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">True</span></code>, existing ids are replaced.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>The value of the last id assigned, plus 1.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.to_list">
<code class="sig-name descname">to_list</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">include_attrs=None</em>, <em class="sig-param">ignore_missing_attrs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the population to a <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> representation.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_attrs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> of <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, optional) – The names of attributes to be added to the molecular
representations. Each attribute is saved as a string using
<code class="xref py py-func docutils literal notranslate"><span class="pre">repr()</span></code>.</p></li>
<li><p><strong>ignore_missing_attrs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, optional) – If <code class="docutils literal notranslate"><span class="pre">False</span></code> and an attribute in <cite>include_attrs</cite> is not
held by a <a class="reference internal" href="stk.molecular.molecules.molecule.html#stk.molecular.molecules.molecule.Molecule" title="stk.molecular.molecules.molecule.Molecule"><code class="xref py py-class docutils literal notranslate"><span class="pre">Molecule</span></code></a>, an error will be raised.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>A <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code> representation of the <a class="reference internal" href="#stk.populations.Population" title="stk.populations.Population"><code class="xref py py-class docutils literal notranslate"><span class="pre">Population</span></code></a>.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="stk.populations.Population.write">
<code class="sig-name descname">write</code><span class="sig-paren">(</span><em class="sig-param">self</em>, <em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#stk.populations.Population.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Write the <code class="docutils literal notranslate"><span class="pre">.mol</span></code> files of members to a directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The full path of the directory into which the <code class="docutils literal notranslate"><span class="pre">.mol</span></code> file
is written.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>None</strong></p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">NoneType</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, Lukas Turcani

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>